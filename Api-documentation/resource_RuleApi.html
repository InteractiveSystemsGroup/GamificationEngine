<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

  <title>Kinben API: RuleApi</title>

  <!-- Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

  <!--custom css for these pages-->
  <link rel="stylesheet" href="css/style.css">

  <link href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.css" type="text/css">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body data-spy="scroll" data-target="#apinav">

  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">Kinben API: RuleApi</a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="resources.html">Resources</a></li>
          <li><a href="data.html">Data Types</a></li>
          <li><a href="downloads.html">Files and Libraries</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-3 col-md-2 sidebar" id="apinav">
        <ul class="nav nav-sidebar">
          <li><a href="#resource_RuleApi_createNewTaskRule_POST">POST /rule/task</a></li>
          <li><a href="#resource_RuleApi_createNewPointRule_POST">POST /rule/point</a></li>
          <li><a href="#resource_RuleApi_getRules_GET">GET /rule/*</a></li>
          <li><a href="#resource_RuleApi_getRule_GET">GET /rule/{id}</a></li>
          <li><a href="#resource_RuleApi_deleteRule_DELETE">DELETE /rule/{id}</a></li>
          <li><a href="#resource_RuleApi_changeRuleAttributes_PUT">PUT /rule/{id}/attributes</a></li>
          <li class="divider"></li>
          <li class="text-right"><a href="#top"><small>Back to Top</small></a></li>
        </ul>
      </div>

      <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        <ol class="breadcrumb" id="top">
          <li class="active dropdown"><a href="index.html">Home</a></li>
          <li class="active dropdown"><a href="resources.html">Resources</a></li>
          <li class="dropdown"><a href="resource_RuleApi.html">RuleApi</a></li>
        </ol>

      <h1 class="page-header">RuleApi <small>Resource</small></h1>

      <p>With a Goalrule can be defined which tasks and if all or only one task have to be fulfilled to reach a goal.
When a goal rule is fulfilled the goal is added to the playerâ€™s list of finished goals. If the goal can also
be done by a group it is also added to its list of finished goals. There are two types of rules that can be
defined: a TaskRule or a PointsRule.
All created rules which are created in the context of one specific organisation can be requested with the
appendant API key. With the given id also a particular rule can be requested, also for example to change some
attributes like the name, the description or, if it is a PointsRule, the amount of points which has to be
reached.</p>

      <div id="resource_RuleApi_createNewTaskRule_POST">
        <h3>POST <small>/rule/task <!--<a href="./rule/task" class="glyphicon glyphicon-new-window" target="_blank"></a>--></small> </h3>

        <p>Creates a new task rule. By the creation the type of rule (DoAllTasksRule or DoAnyTaskRule) has to be defined, the rule's name,
description and the ids which should be associated with this rule.
If the API key is not valid an analogous message is returned. It is also checked, if the id is a positive
number otherwise a message for an invalid number is returned.</p>

        <table class="table">
          <caption>Request Parameters</caption>
          <thead>
          <tr>
            <th>name</th>
            <th>type</th>
            <th>description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>apiKey</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@145af038 -->
            <td>query</td>
            <td>The valid query parameter API key affiliated to one specific organisation,
to which this rule belongs to.</td>
          </tr>
          <tr>
            <td>description</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@359fae31 -->
            <td>query</td>
            <td>Optionally the description of the rule can be passed. This can help the player to understand
which tasks she/he to fulfil.</td>
          </tr>
          <tr>
            <td>name</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@309b25e4 -->
            <td>query</td>
            <td>The name of the task rule. This parameter is required.</td>
          </tr>
          <tr>
            <td>tasks</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@7a2273b7 -->
            <td>query</td>
            <td>The list of task ids that are have to be respective can be fulfilled to complete the goal.
These ids are separated by commas.</td>
          </tr>
          <tr>
            <td>type</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@39ba87fb -->
            <td>query</td>
            <td>The type of the task rule, this can be "DoAllTasksRule" or "DoAnyTaskRule".
This field must not be null.</td>
          </tr>
          </tbody>
        </table>

        <table class="table">
          <caption>Response Body</caption>
          <thead>
          <tr>
            <th>media type</th>
            <th>data type</th>
            <th>description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><abbr data-toggle="tooltip" data-placement="top" title="Use the &quot;Accept: application/json&quot; HTTP header to request that this media type be provided by the server.">application/json</abbr></td>
            <td><a href="json_taskrule.html">TaskRule</a>
 (JSON)</td>
            <td rowspan="1">Response of DoAllTasksRule or DoAnyTaskRule in JSON.</td>
          </tr>
          </tbody>
        </table>
      </div>

      <div id="resource_RuleApi_createNewPointRule_POST">
        <h3>POST <small>/rule/point <!--<a href="./rule/point" class="glyphicon glyphicon-new-window" target="_blank"></a>--></small> </h3>

        <p>Creates a new points rule. By the creation the amount of points which has to be reached to fulfil the
goal and also its name are needed. A description can also be made.
If a goal is associated with a points rule and is also repeatable the goal will be added once only to the
player's or respectively group's list of already finished goals. The rewards of such a goal are also awarded
only once. So a points rule can be fulfilled once only although the associated goal is repeatable.
If the API key is not valid an analogous message is returned. It is also checked, if the id is a positive
number otherwise a message for an invalid number is returned.</p>

        <table class="table">
          <caption>Request Parameters</caption>
          <thead>
          <tr>
            <th>name</th>
            <th>type</th>
            <th>description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>apiKey</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@711c58db -->
            <td>query</td>
            <td>The valid query parameter API key affiliated to one specific organisation,
to which this rule belongs to.</td>
          </tr>
          <tr>
            <td>description</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@18c1f719 -->
            <td>query</td>
            <td>Optionally the description of the rule can be passed. This can help the player to understand
which tasks she/he to fulfil.</td>
          </tr>
          <tr>
            <td>name</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@7197907d -->
            <td>query</td>
            <td>The name of the task rule. This parameter is required.</td>
          </tr>
          <tr>
            <td>points</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@1c7f44eb -->
            <td>query</td>
            <td>The amount of points which should be reached.</td>
          </tr>
          </tbody>
        </table>

        <table class="table">
          <caption>Response Body</caption>
          <thead>
          <tr>
            <th>media type</th>
            <th>data type</th>
            <th>description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><abbr data-toggle="tooltip" data-placement="top" title="Use the &quot;Accept: application/json&quot; HTTP header to request that this media type be provided by the server.">application/json</abbr></td>
            <td><a href="json_getpointsrule.html">GetPointsRule</a>
 (JSON)</td>
            <td rowspan="1">Response of GetPointsRule in JSON.</td>
          </tr>
          </tbody>
        </table>
      </div>

      <div id="resource_RuleApi_getRules_GET">
        <h3>GET <small>/rule/* <!--<a href="./rule/*" class="glyphicon glyphicon-new-window" target="_blank"></a>--></small> </h3>

        <p>This method collects all available rules associated with the given API key and so all goal rules which
belong to the associated organisation. If the API key is not valid an analogous message
is returned.</p>

        <table class="table">
          <caption>Request Parameters</caption>
          <thead>
          <tr>
            <th>name</th>
            <th>type</th>
            <th>description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>apiKey</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@fb61d3f -->
            <td>query</td>
            <td>The valid query parameter API key affiliated to one specific organisation,
to which this rule belongs to.</td>
          </tr>
          </tbody>
        </table>

        <table class="table">
          <caption>Response Body</caption>
          <thead>
          <tr>
            <th>media type</th>
            <th>data type</th>
            <th>description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><abbr data-toggle="tooltip" data-placement="top" title="Use the &quot;Accept: application/json&quot; HTTP header to request that this media type be provided by the server.">application/json</abbr></td>
            <td>array of <a href="json_goalrule.html">GoalRule</a>
 (JSON)</td>
            <td rowspan="1">Response as List of GoalRules in JSON.</td>
          </tr>
          </tbody>
        </table>
      </div>

      <div id="resource_RuleApi_getRule_GET">
        <h3>GET <small>/rule/{id} <!--<a href="./rule/{id}" class="glyphicon glyphicon-new-window" target="_blank"></a>--></small> </h3>

        <p>This method gets one specific goal rule which is identified by the given id and the API key.
If the API key is not valid an analogous message is returned. It is also checked, if the
id is a positive number otherwise a message for an invalid number is returned.</p>

        <table class="table">
          <caption>Request Parameters</caption>
          <thead>
          <tr>
            <th>name</th>
            <th>type</th>
            <th>description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>id</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@18585aef -->
            <td>path</td>
            <td>Required integer as path parameter which uniquely identify the goal rule.</td>
          </tr>
          <tr>
            <td>apiKey</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@558125e1 -->
            <td>query</td>
            <td>The valid query parameter API key affiliated to one specific organisation,
to which this rule belongs to.</td>
          </tr>
          </tbody>
        </table>

        <table class="table">
          <caption>Response Body</caption>
          <thead>
          <tr>
            <th>media type</th>
            <th>data type</th>
            <th>description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><abbr data-toggle="tooltip" data-placement="top" title="Use the &quot;Accept: application/json&quot; HTTP header to request that this media type be provided by the server.">application/json</abbr></td>
            <td><a href="json_goalrule.html">GoalRule</a>
 (JSON)</td>
            <td rowspan="1">Response of GoalRule in JSON.</td>
          </tr>
          </tbody>
        </table>
      </div>

      <div id="resource_RuleApi_deleteRule_DELETE">
        <h3>DELETE <small>/rule/{id} <!--<a href="./rule/{id}" class="glyphicon glyphicon-new-window" target="_blank"></a>--></small> </h3>

        <p>Removes a specific goal rule from the data base which is identified by the given id and the
API key. If the API key is not valid an analogous message is returned. It is also checked,
if the id is a positive number otherwise a message for an invalid number is returned.</p>

        <table class="table">
          <caption>Request Parameters</caption>
          <thead>
          <tr>
            <th>name</th>
            <th>type</th>
            <th>description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>id</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@333f6ba6 -->
            <td>path</td>
            <td>Required integer as path parameter which uniquely identify the goal rule.</td>
          </tr>
          <tr>
            <td>apiKey</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@cdfc71b -->
            <td>query</td>
            <td>The valid query parameter API key affiliated to one specific organisation,
to which this rule belongs to.</td>
          </tr>
          </tbody>
        </table>

        <table class="table">
          <caption>Response Body</caption>
          <thead>
          <tr>
            <th>media type</th>
            <th>data type</th>
            <th>description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><abbr data-toggle="tooltip" data-placement="top" title="Use the &quot;Accept: application/json&quot; HTTP header to request that this media type be provided by the server.">application/json</abbr></td>
            <td><a href="json_goalrule.html">GoalRule</a>
 (JSON)</td>
            <td rowspan="1">Response of GoalRule in JSON.</td>
          </tr>
          </tbody>
        </table>
      </div>

      <div id="resource_RuleApi_changeRuleAttributes_PUT">
        <h3>PUT <small>/rule/{id}/attributes <!--<a href="./rule/{id}/attributes" class="glyphicon glyphicon-new-window" target="_blank"></a>--></small> </h3>

        <p>With this method the fields of one specific goal rule can be changed. For this the
goal rule id, the API key of the specific organisation, the name of the field and
the new field's value are needed.
To modify the name or description of the goal rule the new string has to be passed
with the attribute field. If the
If the API key is not valid an analogous message is returned. It is also checked,
if the id is a positive number otherwise a message for an invalid number is returned.</p>

        <table class="table">
          <caption>Request Parameters</caption>
          <thead>
          <tr>
            <th>name</th>
            <th>type</th>
            <th>description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>id</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@560a6b4d -->
            <td>path</td>
            <td>The id of the goal rule that should be changed. This parameter is required.</td>
          </tr>
          <tr>
            <td>apiKey</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@af8e240 -->
            <td>query</td>
            <td>The valid query parameter API key affiliated to one specific organisation,
to which this goal rule belongs to.</td>
          </tr>
          <tr>
            <td>attribute</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@42d2dae2 -->
            <td>query</td>
            <td>The name of the attribute which should be modified. This parameter is required.
The following names of attributes can be used to change the associated field:
"description" and "name". The tasks that have to be completed or the amount of
points that have to be reached, can't be changed later.</td>
          </tr>
          <tr>
            <td>value</td> <!-- , com.webcohesion.enunciate.modules.jaxrs.api.impl.ParameterImpl@30c72abc -->
            <td>query</td>
            <td>The new value of the attribute. This parameter is required.</td>
          </tr>
          </tbody>
        </table>

        <table class="table">
          <caption>Response Body</caption>
          <thead>
          <tr>
            <th>media type</th>
            <th>data type</th>
            <th>description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><abbr data-toggle="tooltip" data-placement="top" title="Use the &quot;Accept: application/json&quot; HTTP header to request that this media type be provided by the server.">application/json</abbr></td>
            <td><a href="json_goalrule.html">GoalRule</a>
 (JSON)</td>
            <td rowspan="1">Response of GoalRule in JSON.</td>
          </tr>
          </tbody>
        </table>
      </div>

        <footer class="footer">
          <div class="container">
            <p class="text-muted">Generated by <a href="http://enunciate.webcohesion.com">Enunciate</a>.</p>
          </div>
        </footer>

      </div>
    </div>
  </div>


  <!-- JavaScript placed at the end of the document so the pages load faster. -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

  <!-- Bootstrap core JavaScript
  ================================================== -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

  <!-- prettify code blocks. see http://code.google.com/p/google-code-prettify/ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.js" type="text/javascript"></script>
  <script>
    $(function() {
      $(".clickable-row").click(function() {
        window.document.location = $(this).data("href");
      });

      $('[data-toggle="tooltip"]').tooltip()
    });
  </script>

</body>
</html>
